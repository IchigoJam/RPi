<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title>IchigoJam BASIC RPi+1.2 ドキュメント</title>
	<meta name="keywords" content="IchigoJam,Raspberry Pi" />
	<meta name="description" content="" />
	<meta property="og:title" content="IchigoJam BASIC RPi+1.2" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://ichigojam.github.io/RPi/plus_ja.html" />
	<meta property="og:locale" content="ja_JP" />
	<meta property="og:image" content="https://ichigojam.github.io/RPi/image/fb_plus.png" />
	<meta property="og:site_name" content="IchigoJam BASIC RPi+1.2" />
	<link rel="stylesheet" type="text/css" href="./style.css?1" />
</head>
<body id="plus">

<div id="title">
	<p class="back"><a href="http://na-s.jp/IJBRPi/index_ja.html">&lt; IchigoJam BASIC RPi/RPi+</a></p>
	<h1>IchigoJam BASIC RPi+1.2 ドキュメント</h1>
	<p>[2018/08/10]</p>
	<p><a href="plus.html">English Edition(英語版) &gt;</a></p>
</div><!-- /#title -->

<div id="lead">
	<p class="photo_plus">
		IchigoJam BASIC RPi+ は IchigoJam BASIC RPi の機能強化版であり、<br/>
		Sense Hat と Touchscreen Display に対応した<a href="#RPi_Plus_Command">専用コマンド</a>を備えています。<br/>
		I-O DATA から発売のプリインストール microSDカードや入門キットを購入することにより利用できます。<br/>
		IchigoJam BASIC RPi(フリー版)については、<a target="_blank" href="index_ja.html">IchigoJam BASIC RPi1.2 ドキュメント</a>をご覧ください。<br/>
	</p>
</div><!-- /#lead -->

<div id="contents">
	<div>
		<h2>1. 利用条件</h2>
		<p><a target="_blank" href="https://ichigojam.net/ichigojam-license.pdf">利用規約</a>に同意の上、ご利用ください。第三者への配布には別途契約が必要となります。</p>
	</div>

	<div>
		<h2>2. 対応機種</h2>
		<p>
		  基本的に、すべての Raspberry Pi で動作するように開発しています。<br/>
		  こちらで動作確認済の機種は下記です。
		</p>
		<ul>
				<li>Raspberry Pi 3 Model B+</li>
				<li>Raspberry Pi 3 Model B V1.2</li>
				<li>Raspberry Pi Zero W V1.1</li>
				<li>Raspberry Pi Zero V1.3</li>
				<li>Raspberry Pi 2 Model B V1.2</li>
				<li>Raspberry Pi Model B+ V1.2</li>
				<li>Raspberry Pi Model A+ V1.1</li>
		</ul>
		<p class="note">※ Zero、Zero W と Model A+ については 一部のキーボードで、入力の反応がよくない現象が報告されていますが、<br />それ以外は Pi 3, Pi 2 と同様にご利用いただけます。</p>
		<p>
		  また、Sense Hat および Touchscreen Display については、<br/>
		  こちらで動作確認済の機種は下記です。
		</p>
		<ul>
				<li>Raspberry Pi Sense Hat Version 1.0</li>
				<li>Raspberry Pi Display V1.1</li>
		</ul>
	</div>

	<div>
		<h2>3. 入手方法</h2>
		<p>
		  I-O DATA から発売の下記の製品をご購入ください。
		</p>
		<ul>
		  <li>BASICプログラミングキット <a href="http://www.iodata.jp/product/pc/raspberrypi/ud-rp3pki/" target="_blank">UD-RP3PKI</a></li>
		  <li>プリインストール microSDカード <a href="http://www.iodata.jp/product/pc/raspberrypi/ud-rpsdij/" target="_blank">UD-RPSDIJ</a></li>
		</ul>


		<div class="block">
		<h3>アップデート</h3>
		<p>最新版への更新は下記の手順で行います。</p>
		 <p class="note">※ ver1.2.5でEEPROMに対応するためSAVE,LOADコマンドの仕様を変更したため、アップデート時にfiles
ディレクトリ内のファイル名の調整が必要になる場合があります。詳しくは 「<a href="#save_load_specification">SAVE/LOADの出力先</a>」 をご覧ください。</p>
		<ul>
		  <li>パソコンなどを使い、microSDメモリーカード内のファイルを、任意の場所にコピーします。(バックアップ)</li>
		  <li>パッケージに記載のURLから、IchigoJam BASIC RPi+ の最新版をダウンロード・展開します。</li>
		  <li>microSDメモリーカード内のファイルを､ダウンロード・展開して生成されたファイルで上書きします。</li>
		  <li>filesディレクトリ, config.txt, keymap.txt をバックアップからmicroSDメモリーカードにコピー(復元)します。</li>
		</ul>
		</div><!-- /.block-->
		
	</div><!-- /-->
	
	<div>
		<h2>4. 使い方</h2>

		<div class="block">
		<h3>起動時のキーボード設定</h3>
		<p>microSDメモリーカード内の keymap.txt で起動時のキーボードの種類を設定できます。</p>

		<table>
			<tr>
				<th>keymap.txt に記入するテキスト</th>
				<th>キーボードの種類</th>
			</tr>
			<tr>
				<td>us</td>
				<td>USキーボード</td>
			</tr>
			<tr>
				<td>jp</td>
				<td>JPキーボード</td>
			</tr>
		</table>
		<p class="note">※ キーボードの種類は起動後にKBDコマンドでも変更できます。(下記参照)</p>
		</div><!-- /.block-->


		<div class="block">
		<h3>チュートリアル</h3>

		<div>
			<h4>I. IchigoJam BASIC を起動する</h4>
			<dl>
				<dt><img src="image/basic1.jpg" alt="" /></dt>
				<dd>
					<ul>
						<li>Raspberry Pi に microSDメモリーカードを挿入します。</li>
						<li>モニターとキーボードを接続します。</li>
						<li>USBケーブルなどを接続し、電源を入れます。</li>
					</ul>
					<p>画面に左記のように表示されたら成功です!</p>
				</dd>
			</dl>
		</div>

		<div>
			<h4>II. 本体のLEDを点灯する</h4>
			<dl>
				<dt><img src="image/basic2.jpg" alt="" /></dt>
				<dd>
					<p>キーボードから LED1 と入力し [Enter]キーを押します。</p>
					<p>Raspberry Pi 本体の Activity LED (緑色) が点灯したら成功です!</p>
				</dd>
			</dl>
		</div>

		<div>
			<h4>III. 本体のLEDを消灯する</h4>
			<dl>
				<dt><img src="image/basic3.jpg" alt="" /></dt>
				<dd>
					<p>キーボードから LED0 と入力し [Enter]キーを押します。</p>
					<p>Raspberry Pi 本体の Activity LED (緑色) が消灯したら成功です!</p>
				</dd>
			</dl>
		</div>
		
		<div>
		  <h4>IV. LEDをチカチカさせる</h4>
			<dl>
				<dt><img src="image/basic4.jpg" alt="" /></dt>
				<dd>
					<ul>
							<li>キーボードから 10 LED1: WAIT30 と入力し [Enter]キーを押します。</li>
							<li>キーボードから 20 LED0: WAIT30 と入力し [Enter]キーを押します。</li>
							<li>キーボードから 30 GOTO10 と入力し [Enter]キーを押します。</li>
						<li>キーボードから RUN と入力し [Enter]キーを押します。</li>
					</ul>
					<p>
						Raspberry Pi 本体の Activity LED (緑色)がチカチカしたら成功です!<br/>
						停止させるときは [Esc]キーを押します。
					</p>
				</dd>
			</dl>
		</div>
		
		</div><!-- /.block-->
		
	</div><!-- /-->

	<div>
		<h2>5. オリジナル版との相違点</h2>
		<p>
			IchigoJam BASIC RPi は オリジナル版(LPC1114版)の 1.2.4(1.2b56)(※) を元に移植されています。<br/>
			操作方法や利用可能なコマンドは基本的にオリジナル版と同じですが、下記の点が異なります。<br/>
			オリジナル版のドキュメントはこちらです。
			<a target="_blank" href="https://ichigojam.net/IchigoJam-1.2.html">https://ichigojam.net/IchigoJam-1.2.html</a>
			<p class="note">※ ver1.2.5以降。ver1.2.4以前はLPC1114版の1.2.3をベースに移植。</p>
		</p>

		<div class="block">
			<h3>未実装のキー操作</h3>
			<p>下記のキー操作はRPi版には実装されていません</p>
			<table id="five01">
				<tr>
					<th>キー</th>
					<th>オリジナル版の動作</th>
				</tr>
				<tr>
					<td>[Ctrl] + [Shift]</td>
					<td>カナ入力モード切り替え([カタカナ]と同じ)</td>
				</tr>
					<tr>
					<td>[Ctrl] + [Alt]</td>
					<td>挿入モード切り替え([Insert]と同じ)</td>
				</tr>
			</table>
		</div><!-- /.block-->

		<div class="block">
			<h3>RPi版専用のキー操作</h3>
			<p>下記のキー操作はRPi版にだけ実装されています</p>
			<table id="five02">
				<tr>
					<th>キー</th>
					<th>RPi版の動作</th>
				</tr>
				<tr>
					<td>[Ctrl] + [Shift] + [K]</td>
					<td>カナ入力モード切り替え([カタカナ]と同じ)</td>
				</tr>
				<tr>
					<td>[Ctrl] + [Alt] + [I]</td>
					<td>挿入モード切り替え([Insert]と同じ)</td>
				</tr>
			</table>
		</div><!-- /.block-->

		<div class="block">
			<h3>未実装のコマンド</h3>
			<p>下記のコマンドはRPi版には実装されていません</p>
			<table>
				<tr>
					<th>コマンド</th>
					<th>オリジナル版の動作</th>
					<th>RPi版の動作</th>
				</tr>
				<tr>
					<td>SWITCH</td>
					<td>ディスプレイの切り替え</td>
					<td>なにもしない</td>
				</tr>
				<tr>
					<td>SLEEP</td>
					<td>システムの休止(ボタン押下でLRUN0を実行して復帰)</td>
					<td>なにもしない</td>
				</tr>
				<tr>
					<td>ANA</td>
					<td>外部入力の電圧を数値で返す</td>
					<td>常に0を返す</td>
				</tr>
			</table>
		</div><!-- /.block-->

		<div class="block">
			<h3>RPi版専用のコマンド</h3>
			<p>下記のコマンドはRPi版にだけ実装されています(※1)</p>
			<table>
				<tr>
					<th>コマンド</th>
					<th>RPi版の動作</th>
					<th>使用例</th>
				</tr>
				<tr>
					<td>KBD</td>
					<td>キーボードのキーマップの切り替え</td>
					<td>
						KBD 0 'USキーボードに切り替え<br/>
						KBD 1 'JPキーボードに切り替え<br/>
					</td>
				</tr>
				<tr>
					<td>IoT.IN</td>
					<td>
					  sakura.io から I2C で数値を受信する
					  <ul>
					    <li>すべてのチャンネルから受信します</li>
					    <li>送信データ型に関わらず、下位2バイトを符号つき16bit整数として扱います</li>
					  </ul>
					</td>
					<td>
						?IoT.IN() '受信した数値を表示<br/>
					</td>
				</tr>
				<tr>
					<td>IoT.OUT</td>
					<td>
					  sakura.io に I2C で数値を送信する
					  <ul>
					    <li>チャンネル0で送信します</li>
					    <li>データ型は符号なし64bit整数(L, 0x4c)です</li>
					  </ul>
					</td>
					<td>
						IoT.OUT 111 '111を送信<br/>
					</td>
				</tr>
			</table>
			<p class="note">
			  ※1 IoT.INとIoT.OUTは、β版でLPC1114版にも実装されています。
			</p>
			<p class="note">
			  ※2 ver1.2.5以降、KBDコマンドで keymap.txt にも設定が保存されます。
			</p>
			<p class="note">
			  ※ LANG が返す数値とKBDで設定する数値は違うものです。<br/>
			  LANG は使用中のIchigoJamでカナ入力を有効にしたとき表示されるフォントの言語の番号を返します。<br/>
			  (LPC1114版 1:日本語, 2:モンゴル語, 3:ベトナム語)
			</p>
			
		</div><!-- /.block-->

		<div class="block">
			<a id="save_load_specification"></a>
			<h3>SAVE/LOADの入出力先</h3>
			<p>SAVE, LOAD コマンドによるプログラムの保存先は下記のようになります。<br/>
			  ver1.2.5で EEPROMに対応するため仕様を変更しました。<br/>
			  ver1.2.4以前からver1.2.5以降にアップデートするとき、<br/>
			  作成済みのプログラムを引き継ぐには microSDメモリーカードの files ディレクトリ内のファイル名を調整してください。
			</p>
			<table>
				<tr>
					<th></th>
					<th>microSDメモリーカード(filesディレクトリ内)</th>
					<th>EEPROM</th>
				</tr>
				<tr>
					<td>ver1.2.4以前</td>
					<td>
					  0 ～ 3, 100 ～ 227 (*.bin)
					</td>
					<td>
					  なし
					</td>
				</tr>
				<tr>
					<td>ver1.2.5以降</td>
					<td>
					  0 ～ 99 (*.bin)
					</td>
					<td>
					  100 ～ 227
					</td>
				</tr>
			</table>
		</div><!-- /.block-->
		
		<div class="block">
			<h3>その他</h3>
			<p>その他、下記の相違点があります。</p>
			<ul>
				<li>キーボードを接続せずに電源投入すると、FILE0 を自動実行(LRUN0)します</li>
				<li>PWM は PWM3 と PWM4 のみが使えます</li>
				<li>IN3(OUT10)も OUT10,-2 でプルアップ入力になります</li>
				<li>LED と OUT7 は連動しません</li>
				<li>WAIT の省電力モードには対応していません</li>
				<li>パラメータなしの FILES コマンドで FILES20 相当の動作をします(ver1.2.5以降)</li>
				<li>VIDEO0 のクロックダウンには対応していません(ver1.2.5以降)</li>
				<li>USR コマンドは、Pi/Pi Zero系 では Thumb命令セット、Pi 2/Pi 3系では Thumb2命令セットに対応しています。(ver1.2.5以降)</li>
			</ul>
		</div><!-- /.block-->

	</div><!-- /-->

	<div>
		<h2>6. IO系コマンドと物理PINの対応</h2>

		<div class="block">
			<h3>IN/OUT/PWM</h3>
			<p>IN/OUT/PWM コマンドで実際に電流が入出力される物理PINは下記のようになります。</p>
			<table>
				<tr>
					<th>物理PIN</th>
					<th>入力</th>
					<th>出力</th>
					<th>PWM</th>
					<th>初期状態</th>
				</tr>
				<tr>
					<td>15</td>
					<td>IN1</td>
					<td>(OUT8)</td>
					<td></td>
					<td>入力(プルアップ)</td>
				</tr>
				<tr>
					<td>13</td>
					<td>IN2</td>
					<td>(OUT9)</td>
					<td></td>
					<td>入力(オープン)</td>
				</tr>
				<tr>
					<td>11</td>
					<td>IN3</td>
					<td>(OUT10)</td>
					<td></td>
					<td>入力(オープン)</td>
				</tr>
				<tr>
					<td>7</td>
					<td>IN4</td>
					<td>(OUT11)</td>
					<td></td>
					<td>入力(プルアップ)</td>
				</tr>
				<tr>
					<td>35</td>
					<td>IN9</td>
					<td></td>
					<td></td>
					<td>入力(オープン,固定)</td>
				</tr>
				<tr>
					<td>37</td>
					<td>(IN5)</td>
					<td>OUT1</td>
					<td></td>
					<td>出力</td>
				</tr>
				<tr>
					<td>36</td>
					<td>(IN6)</td>
					<td>OUT2</td>
					<td></td>
					<td>出力</td>
				</tr>
				<tr>
					<td>33</td>
					<td>(IN7)</td>
					<td>OUT3</td>
					<td>PWM3</td>
					<td>出力</td>
				</tr>
				<tr>
					<td>32</td>
					<td>(IN8)</td>
					<td>OUT4</td>
					<td>PWM4</td>
					<td>出力</td>
				</tr>
				<tr>
					<td>38</td>
					<td>(IN10)</td>
					<td>OUT5</td>
					<td></td>
					<td>出力</td>
				</tr>
				<tr>
					<td>40</td>
					<td>(IN11)</td>
					<td>OUT6</td>
					<td></td>
					<td>出力</td>
				</tr>
				<tr>
					<td>26</td>
					<td></td>
					<td>OUT7</td>
					<td></td>
					<td>出力(固定)</td>
				</tr>
			</table>
		</div><!-- /.block-->

		<div class="block">
			<h3>I2C</h3>
			<p>I2CW/I2CR コマンドで実際に電気信号が入出力される物理PINは下記のようになります。</p>
			<table>
				<tr>
					<th>物理PIN</th>
					<th>機能</th>
				</tr>
				<tr>
					<td>3</td>
					<td>SDA</td>
				</tr>
				<tr>
					<td>5</td>
					<td>SCL</td>
				</tr>
			</table>
		</div><!-- /.block-->
		
		<div class="block">
			<h3>UART</h3>
			<p>UART接続時に実際に電気信号が入出力される物理PINは下記のようになります。</p>
			<table>
				<tr>
					<th>物理PIN</th>
					<th>機能</th>
				</tr>
				<tr>
					<td>8</td>
					<td>TXD</td>
				</tr>
				<tr>
					<td>10</td>
					<td>RXD</td>
				</tr>
			</table>
		</div><!-- /.block-->
		
		<div class="block">
			<h3>BEEP/PLAY</h3>
			<p>BEEP/PLAY コマンドで実際に電気信号が入出力される物理PINは下記のようになります。</p>
			<table>
				<tr>
					<th>物理PIN</th>
					<th>機能</th>
				</tr>
				<tr>
					<td>29</td>
					<td>SND</td>
				</tr>
			</table>
		</div><!-- /.block-->
		
		<div class="block">
			<h3>ピン説明図</h3>
			<a href="image/pin.png"><img src="image/pin.png" alt="" style="width:600px;" /></a>
		</div><!-- /.block-->
		
	</div><!-- /-->

	<div>
		<h2>7. 既知の課題と対応予定</h2>

		<div class="block">
			<h3>既知の課題</h3>
			<ul>
				<li>[issue 1005] Zero、Zero W、Model A+ で一部のキーボードの反応がよくない</li>
				<li>[issue 1008] 存在しないアドレスへのアクセスなど、I2CWが非ゼロ(失敗)を返すべきところでゼロ(成功)を返すことがある</li>
			</ul>
		</div><!-- /.block-->
		
		<!-- div class="block">
			<h3>次期バージョンでの対応予定</h3>
			<ul>
			</ul>
		</div --><!-- /.block-->
		
		<div class="block">
			<h3>今後の対応予定</h3>
			<ul>
				<li>キー入力処理の改善(issue 1005 に関連)</li>
			</ul>
		</div><!-- /.block-->

		<div class="block">
			<h3>解決済みの課題</h3>
			<ul>
				<li>[issue 1009] Raspberry Pi 3 Model B+ で LED コマンドが動作しない</li>
				<li>[issue 1007] カーソルが点滅しない</li>
				<li>[issue 1006] TICKの値と画面のリフレッシュ回数が同期していない</li>
				<li>[issue 1004] CLS,SCROLL,POKE,COPY,CLP による画面の変更が次のPRINT処理まで反映されない</li>
				<li>[issue 1003] 一部のキーボードでオートリピートが効かない</li>
				<li>[issue 1002] 一部のキーボードでShift,Ctrl,Altが効かない</li>
				<li>[issue 1001] 一部のキーボードでテンキーのHome,End,PageUp,PageDown,Insが効かない</li>
			</ul>
		</div><!-- /.block-->
		
		<div>
			<h3>更新履歴</h3>
			<dl>
			  <dt>[2018/06/07] ver1.2.6</dt>
			  <dd>
			    <ul>
			      <li>[issue 1009] を解決しました</li>
			    </ul>
			  </dd>
			  <dt>[2018/06/01] ver1.2.5</dt>
			  <dd>
			    <ul>
			      <li>sakura.io に対応(IoT.IN, IoT.OUTコマンド)</li>
			      <li>ディスプレイ関連の機能に対応(VIDEOコマンド)</li>
			      <li>サウンド関連の機能に対応(BEEP, PLAY, TEMPO, SOUNDコマンド)</li>
			      <li>マシン語関連の機能に対応(USRコマンド)</li>
			      <li>EEPROMに対応し、プログラムの保存先を変更(SAVE, LOADコマンド)</li>
			      <li>パラメータなしの FILESコマンドの動作を変更(FILES3相当からFILES20相当に)</li>
			      <li>KBDコマンドで keymap.txt にも設定を保存するように変更</li>
			      <li>フォントのアンチエイリアスを無効化(config.txt に scaling_kernel=8 を追加)</li>
			      <li>LPC1114版の1.2.4(1.2b56)での仕様変更を取り込み
				<ul>
				  <li>FILES0,0でファイル0のみ表示するように変更</li>
				  <li>エラーメッセージの抑制をOK0からOK2に変更</li>
				  <li>コマンドの空白を完全に無視するように変更</li>
				  <li>BPSの第二パラメータで I2C の通信速度を設定可能に ex)BPS0,100 '100kHzに設定</li>
				  <li>[右Alt] + [K] によるカナ入力切り替えを廃止</li>
				  <li>[無変換], [左Alt], [右Alt] の動作を統一</li>
				  <li>[Alt] + [W] で [Alt] + [0] と同じ動作をするように変更</li>
				  <li>[Alt] + [X] で [Alt] + [1] と同じ動作をするように変更</li>
				  <li>[Alt] + [Y] で [Alt] + [2] と同じ動作をするように変更</li>
				  <li>[Alt] + [Z] で [Alt] + [3] と同じ動作をするように変更</li>
				</ul>
			      </li>
			      <li>Sense HATのセンサーに追加対応
				<ul>
				  <li>ジャイロセンサー</li>
				  <li>磁気センサー</li>
				  <li>気圧センサー(気圧,温度)</li>
				  <li>湿度センサー(湿度,温度)</li>
				</ul>
			      </li>
			      <li>Touchscreen Display の接続方法を簡素化(SDAとSCLの接続が不要に)</li>
			    </ul>
			  </dd>
			  <dt>[2017/12/25] ver1.2.4</dt>
			  <dd>
			    <ul>
			      <li>[issue 1007] を解決しました</li>
			      <li>[issue 1006] を解決しました</li>
			      <li>画面描画処理を改善しました(issue 1006, 1007 に関連)</li>
			    </ul>
			  </dd>
			  <dt>[2017/12/09] ver1.2.3</dt>
			  <dd>
			    <ul>
			      <li>[issue 1004] を解決しました</li>
			    </ul>
			  </dd>
			  <dt>ver1.2.2</dt>
			  <dd>
			    <ul>
			      <li>[issue 1003] を解決しました</li>
			      <li>[issue 1002] を解決しました</li>
			      <li>[issue 1001] を解決しました</li>
			    </ul>
			  </dd>
			</dl>
		</div>
		
	</div><!-- /-->
	
	<div id="contents_faq">
		<h2>8. よくある質問と回答</h2>
		<dl>
		  <dt>質問. 「Raspberry Pi 公式 7インチ Touchscreen Display」を使用時、画面が上下反転します。</dt>
		  <dd>回答. config.txt に lcd_rotate=2 を追加することにより、反転させることができます。Raspbianと同じ仕様です。</dd>
		  <dt>質問. 本体にボタンがありませんが、電源投入時にプログラムを自動起動するにはどうしますか。</dt>
		  <dd>回答. キーボードを接続せずに起動するとFILE0を実行(LRUN0)します。</dd>
		  <dt>質問. ディスプレイの出力に、コンポジットビデオ(RCA端子)は使用できますか。</dt>
		  <dd>回答. 使用できます。Raspbian 同様、3.5mm ジャックから信号が出力されます。音は物理PIN29(SND)から出力します。</dd>
		  <dt>質問. 日本語キーボードを使用したいです。</dt>
		  <dd>回答. KBDコマンドで切り替えることができます。KBD 1 をお試しください。</dd>
		  <dt>質問. USキーボードを使用したいです。</dt>
		  <dd>回答. KBDコマンドで切り替えることができます。KBD 0 をお試しください。</dd>
		  <dt>質問. アナログ入力に対応していますか。</dt>
		  <dd>回答. 対応していません。I2Cなどを経由して利用できるADコンバータ等、外部モジュールをご利用ください。</dd>
		</dl>
	</div><!-- /-->

	<div>
		<h2>9. サポート</h2>
		<p>
		  お問い合わせは下記にてうけたまわっております。<br/>
		  <br/>
		  株式会社ナチュラルスタイル<br/>
		  IchigoJam BASIC RPi 担当
		  (&#x73;&#x75;&#x70;&#x70;&#x6F;&#x72;&#x74;&#x40;&#x6E;&#x61;&#x2D;&#x73;&#x2E;&#x6A;&#x70;)<br/>
		</p>
		<p>
		  また、技術的な情報の共有や質問等については下記のFacebookグループもご活用ください。<br/>
		  <a href="https://www.facebook.com/groups/ichigojam/" target="_blank">https://www.facebook.com/groups/ichigojam/</a><br/>
		</p>
	</div><!-- /-->


	
	<a name="RPi_Plus_Command"></a>
	<div>
		<h2>10. RPi+ 専用コマンド</h2>

		<p>
		  IchigoJam BASIC RPi+ は Sense HAT および Touchscreen Display に対応した下記の専用コマンドを備えています。<br/>
		  これらのコマンドはIchigoJam BASIC RPi(フリー版)ではご利用になれません。<br/>
		</p>

		<div class="block">
		<h3>Sense HAT 対応コマンド</h3>
		<table style="width:800px;">
			<tr>
				<th>コマンド</th>
				<th>RPi+の動作</th>
				<th>使用例</th>
			</tr>
			<tr>
				<td>SH.CLS</td>
				<td>
				  Sense HAT の LED を全て消灯する<br/>
				  <b>SH.CLS</b>
				</td>
				<td>
				  SH.CLS '全消灯
				</td>
			</tr>
			<tr>
				<td>SH.PUT</td>
				<td>
				  Sense HAT の LED の色を設定する<br/>
				  <b>SH.PUT {横位置}, {縦位置}, {色:0-4095}</b><br/>
				  色の例(白:#FFF, 赤:#F00, 緑:#F0, 青:#F)
				</td>
				<td>
				  '左から4番目,上から4番目のLEDを緑に<br/>
				  SH.PUT 3, 3, #F0
				</td>
			</tr>
			<tr>
				<td>SH.SCR</td>
				<td>
				  Sense HAT の LED の色を取得する<br/>
				  <b>SH.SCR({横位置}, {縦位置})</b>
				</td>
				<td>
				  '左から4番目,上から4番目のLEDの色を表示<br/>
				  ?SH.SCR(3, 3)
				</td>
			</tr>
			<tr>
				<td>SH.SCROLL</td>
				<td>
				  Sense HAT の LED をスクロールする<br/>
				  <b>SH.SCROLL {方向}</b><br/>
				  方向の例(上:0, 右:1, 下:2, 左:3)
				</td>
				<td>
				  SH.SCROLL 0 '上方向にスクロール <br/>
				  SH.SCROLL 1 '右方向にスクロール <br/>
				</td>
			</tr>
			<tr>
				<td>
				  SH.AX<br/>
				  SH.AY<br/>
				  SH.AZ<br/>
				</td>
				<td>
				  加速度センサーから各軸方向の加速度を取得する<br/>
				  <b>SH.AX()</b><br/>
				  <b>SH.AY()</b><br/>
				  <b>SH.AZ()</b><br/>
				</td>
				<td>
				  ?SH.AX() 'X軸方向の加速度を表示<br/>
				  ?SH.AY() 'Y軸方向の加速度を表示<br/>
				  ?SH.AZ() 'Z軸方向の加速度を表示<br/>
				</td>
			</tr>
			<tr>
				<td>SH.BTN</td>
				<td>
				  ジョイスティックの状態を取得する<br/>
				  <b>SH.BTN()</b><br/>
				  右から0bit: 下選択<br/>
				  右から1bit: 右選択<br/>
				  右から2bit: 上選択<br/>
				  右から3bit: 押下<br/>
				  右から4bit: 左選択<br/>
				</td>
				<td>
				  'ジョイスティックの状態を2進数でまとめて表示<br/>
				  ?BIN$(SH.BTN(),5)
				</td>
			</tr>
			<tr>
				<td>SH.BUP</td>
				<td>
				  ジョイスティックの上選択状態を取得する<br/>
				  <b>SH.BUP()</b>
				</td>
				<td>
				  'ジョイスティックが上選択のとき1を表示<br/>
				  ?SH.BUP()
				</td>
			</tr>
			<tr>
				<td>SH.BDOWN</td>
				<td>
				  ジョイスティックの下選択状態を取得する<br/>
				  <b>SH.BDOWN()</b>
				</td>
				<td>
				  'ジョイスティックが下選択のとき1を表示<br/>
				  ?SH.BDOWN()
				</td>
			</tr>
			<tr>
				<td>SH.BLEFT</td>
				<td>
				  ジョイスティックの左選択状態を取得する<br/>
				  <b>SH.BLEFT()</b>
				</td>
				<td>
				  'ジョイスティックが左選択のとき1を表示<br/>
				  ?SH.BLEFT()
				</td>
			</tr>
			<tr>
				<td>SH.BRIGHT</td>
				<td>
				  ジョイスティックの右選択状態を取得する<br/>
				  <b>SH.BRIGHT()</b>
				</td>
				<td>
				  'ジョイスティックが右選択のとき1を表示<br/>
				  ?SH.BRIGHT()
				</td>
			</tr>
			<tr>
				<td>SH.BPRESS</td>
				<td>
				  ジョイスティックの押下状態を取得する<br/>
				  <b>SH.BPRESS()</b>
				</td>
				<td>
				  'ジョイスティックが押下のとき1を表示<br/>
				  ?SH.BPRESS()
				</td>
			</tr>
			<tr>
				<td>
				  SH.GX<br/>
				  SH.GY<br/>
				  SH.GZ<br/>
				  (ver1.2.5以降)
				</td>
				<td>
				  ジャイロセンサーから各軸の角速度を取得する<br/>
				  <b>SH.GX()</b><br/>
				  <b>SH.GY()</b><br/>
				  <b>SH.GZ()</b><br/>
				</td>
				<td>
				  ?SH.GX() 'X軸の角速度を表示<br/>
				  ?SH.GY() 'Y軸の角速度を表示<br/>
				  ?SH.GZ() 'Z軸の角速度を表示<br/>
				</td>
			</tr>
			<tr>
				<td>
				  SH.MX<br/>
				  SH.MY<br/>
				  SH.MZ<br/>
				  (ver1.2.5以降)
				</td>
				<td>
				  磁気センサーから各軸方向の磁束密度を取得する<br/>
				  <b>SH.MX()</b><br/>
				  <b>SH.MY()</b><br/>
				  <b>SH.MZ()</b><br/>
				</td>
				<td>
				  ?SH.MX() 'X軸方向の磁束密度を表示<br/>
				  ?SH.MY() 'Y軸方向の磁束密度を表示<br/>
				  ?SH.MZ() 'Z軸方向の磁束密度を表示<br/>
				</td>
			</tr>
			<tr>
				<td>
				  SH.APRESS<br/>
				  (ver1.2.5以降)
				</td>
				<td>
				  気圧(ヘクトパスカル)の10倍の値を取得する<br/>
				  <b>SH.APRESSS()</b>
				</td>
				<td>
				  'ヘクトパスカル単位で気圧を表示<br/>
				  ?SH.APRESS()/10
				</td>
			</tr>
			<tr>
				<td>
				  SH.HUMID<br/>
				  (ver1.2.5以降)
				</td>
				<td>
				  湿度(パーセント)の100倍の値を取得する<br/>
				  <b>SH.HUMID()</b>
				</td>
				<td>
				  'パーセント単位で湿度を表示<br/>
				  ?SH.HUMID()/100
				</td>
			</tr>
			<tr>
				<td>
				  SH.TEMP<br/>
				  (ver1.2.5以降)
				</td>
				<td>
				  湿度センサーから気温(摂氏)の100倍の値を取得する<br/>
				  <b>SH.TEMP(), SH.TEMP(1)</b><br/>
				  <br/>
				  気圧センサーから気温(摂氏)の100倍の値を取得する<br/>
				  <b>SH.TEMP(2)</b>
				</td>
				<td>
				  '摂氏で気温を表示<br/>
				  ?SH.TEMP()/100
				</td>
			</tr>
		</table>
		</div>

		<div class="block">
		<h3>Touchscreen Display 対応コマンド</h3>
		<!-- p>
		  接続方法は <a href="plus_touchscreen_howto_ja.pdf" target="_blank">IchigoJam BASIC RPi+ での Touchscreen Display 使用方法</a> をご確認ください。<br/>
		  コマンドを利用するには、一般的な接続に加え下記2箇所も接続する必要があります。
		  <ul>
		    <li>Raspberry Pi の 物理ピン3(SDA) と Touchscreen Display の SDA</li>
		    <li>Raspberry Pi の 物理ピン5(SCL) と Touchscreen Display の SCL</li>
		  </ul>
		</p -->
		<table style="width:800px;">
			<tr>
				<th>コマンド</th>
				<th>RPi+の動作</th>
				<th>使用例</th>
			</tr>
			<tr>
				<td>
				  TS.X<br/>
				  TS.Y<br/>
				</td>
				<td>
				  Touchscreen の タッチされている場所を取得する<br/>
				  <b>TS.X()</b> 横位置 (0-799, タッチされていない:-1)<br/>
				  <b>TS.Y()</b> 縦位置 (0-479, タッチされていない:-1)<br/>
				</td>
				<td>
				  ?TS.X() '横位置を表示<br/>
				  ?TS.Y() '縦位置を表示<br/>
				</td>
			</tr>
			<tr>
				<td>TS.GET</td>
				<td>
				  Touchscreen の タッチされている場所を取得する<br/>
				  <b>TS.GET()</b><br/>
				  上位8bit: 横位置 (0-199, タッチされていない:0)<br/>
				  下位8bit: 縦位置 (0-119, タッチされていない:0)<br/>
				</td>
				<td>
				  'タッチされている場所を繰り返し表示<br/>
				  10 P=TS.GET()<br/>
				  20 ?(P&gt;&gt;8);&quot; &quot;;(P&amp;#FF)<br/>
				  30 WAIT10: GOTO10
				</td>
			</tr>

		</table>
		<p>
		  ver1.2.5 で Touchscreen Display の接続方法を簡素化するために仕様を変更しました。<br/>
		  各バージョンでの接続方法と、各コマンドで取得される座標の原点の定義は下記のようになります。
		</p>
		<table style="width:800px;">
			<tr>
				<th></th>
				<th>接続方法</th>
				<th>座標の原点</th>
			</tr>
			<tr>
				<td>ver1.2.5以降</td>
				<td>
				  リボンケーブルと電源を接続<br/>
				  ※ 詳細は
				  <a href="plus_touchscreen_howto_ja_2.0.0.pdf" target="_blank">IchigoJam BASIC RPi+ での Touchscreen Display 使用方法 2.0.0</a>
				  を参照
				</td>
				<td>
				  左上原点
				</td>
			</tr>
			<tr>
				<td>ver1.2.4以前</td>
				<td>
				  下記を接続
				  <ul>
				    <li>リボンケーブル</li>
				    <li>電源</li>
				    <li>Raspberry Pi の 物理ピン3(SDA) と Touchscreen Display の SDA</li>
				    <li>Raspberry Pi の 物理ピン5(SCL) と Touchscreen Display の SCL</li>
				  </ul>
				  ※ 詳細は
				  <a href="plus_touchscreen_howto_ja_1.0.1.pdf" target="_blank">IchigoJam BASIC RPi+ での Touchscreen Display 使用方法 1.0.1</a>
				  を参照
				</td>
				<td>
				  右下原点
				</td>
			</tr>
		</table>
		</div>
		
		
	</div><!-- /-->

</div><!-- /#contents -->

<div id="footer">
	<div>
		<p>IchigoJam は 株式会社jig.jp の登録商標です。<br />IchigoJam is a registered trademark of jig.jp co., ltd.</p>
		<p>Raspberry Pi は Raspberry Pi財団の商標です。<br />Raspberry Pi is a trademark of the Raspberry Pi Foundation.</p>
	</div>
</div><!-- /#footer -->

</body>
</html>

